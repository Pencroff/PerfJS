!function(e){function t(){var t=e.caseList,a=e.caseDetails,n=e.search,i=new Grapnel({pushState:!1,root:"",hashBang:!0});e.router=i;({"!":[t.onRoot,a.onRoot],"!:id":[t.byId,a.byId],"!search/:query":[t.search,n.onSearch],"!tag/:tag":[t.byTag,n.onTag]});i.get("/",function(e,n){console.log("root"),console.log(e,n),t.onRoot(),a.onRoot()}),i.get("/search/:query",function(e,a){console.log("by query"),console.log(e,a),t.search(e.params.query),n.onSearch(e.params.query)}),i.get("/tag/:tag",function(e,n){console.log("by id"),console.log(e,n),t.byTag(e.params.tag),a.onTag(e.params.tag)}),i.get("/:id",function(e,n){console.log("by id"),console.log(e,n),t.byId(e.params.id),a.byId(e.params.id)}),i.navigate("/")}e.app=e.app||{};var a=e.app;a.run=t}(window.PerformanceJs),function(e){function t(){r("Please select test in list beside (click on header)")}function a(t){$("head > script").remove();var a=o(t,e.data);$script(a.url+"?v="+Date.now(),function(){var t=window.test,a=new Benchmark.Suite,i=t.fill(a);e.utils.isPromise(i)?i.then(n):n(a)})}function n(e){var t=window.test,a=i(e,t);s.currentSuite=e,r(a)}function i(e,t){var a={id:t.id,kebabName:_.kebabCase(t.name),name:t.name,platform:platform.description,source:t.fill.toString()};return a.cases=_.map(e,function(e){var t={id:e.id,name:e.name,source:c(e.fn.toString())};return t}),a}function c(e){var t=e.indexOf("{"),a=e.lastIndexOf("}"),n=e.substring(t+1,a);return n}function o(e,t){for(var a,n=t.length,i=0,c=null;n>0&&null===c;)a=t[i],a.id===e&&(c=a),i+=1,n-=1;return c}function r(t){var a=e.utils,n=$(".c-test-detail")[0],i=e.JST.caseDetails,c=e.JST.caseDetailsEmpty;if("object"===a.toType(t)){$(".c-tab-heading",n).off("click"),$(".c-button--run-test",n).off("click");var o=$(i(t));$('code[class*="language-"]',o).forEach(function(e){Prism.highlightElement(e)}),n.innerHTML=o.html(),$(".c-button--run-test",n).on("click",function(e){$(".c-button--run-test").prop("disabled",!0),$(".c-table__cell--case-result[data-id]").removeClass("c-table__cell--case-result-fastest").removeClass("c-table__cell--case-result-slowest").text("-"),$('.c-table__cell--case-result[data-id="'+s.currentSuite[0].id+'"]').html('<span class="gauge-loader"></span>'),s.currentSuite.on("cycle",function(e){console.log(String(e.target));var t=s.currentSuite;$('.c-table__cell--case-result[data-id="'+e.target.id+'"]').text(e.target.toString());var a=t.indexOf(e.target);a>-1&&a<t.length-1&&$('.c-table__cell--case-result[data-id="'+t[a+1].id+'"]').html('<span class="gauge-loader"></span>')}).on("complete",function(){console.log("Fastest is "+this.filter("fastest").map("name")),$(".c-button--run-test").prop("disabled",!1);var e=this.filter("fastest").map(function(e){return $('.c-table__cell--case-result[data-id="'+e.id+'"]')}),t=this.filter("slowest").map(function(e){return $('.c-table__cell--case-result[data-id="'+e.id+'"]')});e.forEach(function(e){e.addClass("c-table__cell--case-result-fastest")}),t.forEach(function(e){e.addClass("c-table__cell--case-result-slowest")})}).run({async:!0})}),$(".c-tab-heading",n).on("click",function(e){var t=e.target,a=t.previousElementSibling?1:0,i=$(".c-tabs__tab",n).removeClass("c-tabs__tab--active");$(".c-tab-heading",n).removeClass("c-tab-heading--active").forEach(function(e,t){t===a&&($(e).addClass("c-tab-heading--active"),$(i[t]).addClass("c-tabs__tab--active"))})})}else n.innerHTML=c({text:t||""});DISQUS.reset({reload:!0,config:function(){this.page.identifier=t.kebabName+"-"+t.id,this.page.url="http://perfjs.info/#!"+t.id}})}e.caseDetails=e.caseDetails||{};var s=e.caseDetails;s.onRoot=t,s.byId=a}(window.PerformanceJs),function(e){function t(){s.filteredData=e.data.slice(0),s.render(s.filteredData)}function a(t){var a=e.router;"undefined"!==t&&"null"!==t||a.navigate("/"),s.filteredData||(s.filteredData=e.data.slice(0)),s.selectedCase=t;var n=s.filteredData.map(function(e){return e.active=e.id===t,e});s.render(n)}function n(t){"undefined"!==t&&"null"!==t||(window.location.hash="!"),s.filteredData=_.filter(e.data,function(e){return e.active=e.id===s.selectedCase,e.name&&e.name.indexOf(t)>-1||e.description&&e.description.indexOf(t)>-1}),s.render(s.filteredData)}function i(t){"undefined"!==t&&"null"!==t||(window.location.hash="!"),s.filteredData=_.filter(e.data,function(e){return e.active=e.id===s.selectedCase,_.includes(e.tags,t)}),s.render(s.filteredData)}function c(e){var t=$(".c-test-list")[0];$(".c-card__content--divider",t).off("click"),$(".c-tag",t).off("click"),t.innerHTML=e.map(function(e){return l(e)}).join(""),$(".c-card__content--divider",t).on("click",o),$(".c-tag",t).on("click",r)}function o(t){var a=e.router,n=t.target,i=$(n).attr("data-id");a.navigate("/"+i)}function r(t){var a=e.router,n=t.target,i=$(n).text().trim();a.navigate("/tag/"+i)}e.caseList=e.caseList||{};var s=e.caseList,l=e.JST.caseList;s.render=c,s.onRoot=t,s.byId=a,s.search=n,s.byTag=i}(window.PerformanceJs),function(e){function t(e){r.val(e)}function a(e){r.val("tag:"+e)}function n(){r.on("keypress",i),$(".c-search__button").on("click",i)}function i(e){"click"===e.type&&(e.preventDefault(),c(r.val()));var t=e.code?e.code:e.keyCode?e.keyCode:e.which;"keypress"!==e.type||"Enter"!==t&&13!==t||(e.preventDefault(),c(r.val()))}function c(e){0===e.length?window.location.hash="!":0===e.indexOf("tag:")?window.location.hash="!tag/"+e.substr(4):window.location.hash="!search/"+r.val()}e.search=e.search||{};var o=e.search,r=$(".c-search__input");n(),o.onSearch=t,o.onTag=a}(window.PerformanceJs),function(e){e.utils=e.utils||{};var t=e.utils;t.toType=function(e){return function(t){return t===e?"global":{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}}(this),t.isPromise=function(e){var a=!1,n=t.toType(e);return"object"!==n&&"function"!==n||"function"!==t.toType(e.then)||(a=!0),a}}(window.PerformanceJs);