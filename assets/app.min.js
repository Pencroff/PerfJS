!function(t){function e(){function e(t,e){ga("set",{page:t,title:e}),ga("send","pageview")}var a=t.caseList,n=t.caseDetails,r=t.search,c=new Grapnel({pushState:!1,root:"",hashBang:!0});t.router=c,c.get("/search/:query",function(t,n){ga("send","event","Navigation","search","Navigation search: "+t.params.query),a.search(t.params.query),r.onSearch(t.params.query),e("/#!/search/"+t.params.query,"PerfJS - search: "+t.params.query),ga("send","pageview","/#!/search?q="+t.params.query)}),c.get("/tag/:tag",function(t,n){ga("send","event","Navigation","by tag","Navigation tag: "+t.params.tag),a.byTag(t.params.tag),r.onTag(t.params.tag),e("/#!/tag/"+t.params.tag,"PerfJS - tag: "+t.params.tag)}),c.get("/:id",function(t,r){ga("send","event","Navigation","by id","Navigation id: "+t.params.id),a.byId(t.params.id);var c=n.byId(t.params.id);e("/#!/"+t.params.id,"PerfJS - test: "+c)}),c.get("/:id/:action",function(t,e){var a=t.params.id;"tag"!==a&&"search"!==a&&ga("send","event","Test",t.params.action,"Test: "+t.params.id+" - "+t.params.action)}),c.get("/:id/:action/:caseId",function(t,e){var a=t.params.id;"tag"!==a&&"search"!==a&&ga("send","event","Test",t.params.action,"Test: "+t.params.id+" - "+t.params.action+": "+t.params.caseId)}),c.get("/",function(){ga("send","event","Navigation","root","Navigation root"),a.onRoot(),n.onRoot()}),c.get("",function(){c.navigate("/")})}t.app=t.app||{};var a=t.app;a.run=e}(window.PerformanceJs),function(t){function e(){s("Please select case in list beside or filter by tag")}function a(e){if($("head > script").remove(),"undefined"!==e&&"null"!==e){e=e.substr(0,36);var a=i(e,t.data);return $script(a.url+"?v="+Date.now(),function(){var e=window.test,a=new Benchmark.Suite,r=e.fill(a);t.utils.isPromise(r)?r.then(n):n(a)}),a.name}}function n(t){var e=window.test,a=r(t,e);d.currentSuite=t,s(a)}function r(t,e){var a={id:e.id,kebabName:_.kebabCase(e.name),name:e.name,platform:platform.description,source:e.fill.toString()};return a.cases=_.map(t,function(t){var e={id:t.id,name:t.name,source:c(t.fn.toString())};return e}),a}function c(t){var e=t.indexOf("{"),a=t.lastIndexOf("}"),n=t.substring(e+1,a);return n}function i(t,e){for(var a,n=e.length,r=0,c=null;n>0&&null===c;)a=e[r],a.id===t&&(c=a),r+=1,n-=1;return c}function s(e){var a=t.router,n=window.test,r=t.utils,c=$(".c-test-detail")[0],i=t.JST.caseDetails,s=t.JST.caseDetailsEmpty;if("object"===r.toType(e)){$(".c-tab-heading",c).off("click"),$(".c-button--run-test",c).off("click"),$(".c-table__cell-result, .c-table__cell-result > span",c).off("click");var f=$(i(e));$('code[class*="language-"]',f).forEach(function(t){Prism.highlightElement(t)}),c.innerHTML=f.html(),$(".c-button--run-test",c).on("click",function(t){a.navigate("/"+n.id+"/all"),$(".c-table__cell-result, .c-table__cell-result > span",c).off("click"),$(".c-button--run-test").prop("disabled",!0),$(".c-table__cell-result[data-id]").removeClass("c-table__cell-result-fastest").removeClass("c-table__cell-result-slowest"),$(".c-table__cell-result[data-id] > .c-table__cell-result-text").text("-"),$('.c-table__cell-result[data-id="'+d.currentSuite[0].id+'"] > .c-table__cell-result-text').html('<span class="gauge-loader"></span>'),d.currentSuite.on("cycle",l).on("complete",o).run({async:!0})}),$(".c-table__cell-result, .c-table__cell-result > span",c).on("click",u),$(".c-tab-heading",c).on("click",function(t){var e=t.target,a=e.previousElementSibling?1:0,n=$(".c-tabs__tab",c).removeClass("c-tabs__tab--active");$(".c-tab-heading",c).removeClass("c-tab-heading--active").forEach(function(t,e){e===a&&($(t).addClass("c-tab-heading--active"),$(n[e]).addClass("c-tabs__tab--active"))})})}else c.innerHTML=s({text:e||""});DISQUS.reset({reload:!0,config:function(){this.page.identifier=e.kebabName+"-"+e.id,this.page.url="http://perfjs.info/#!/"+e.id}})}function l(t){console.log(String(t.target));var e=d.currentSuite;$('.c-table__cell-result[data-id="'+t.target.id+'"] > .c-table__cell-result-text').text(t.target.toString());var a=e.indexOf(t.target);a>-1&&a<e.length-1&&$('.c-table__cell-result[data-id="'+e[a+1].id+'"] > .c-table__cell-result-text').html('<span class="gauge-loader"></span>')}function o(){console.log("Fastest is "+this.filter("fastest").map("name")),$(".c-button--run-test").prop("disabled",!1),$(".c-table__cell-result, .c-table__cell-result > span").on("click",u);var t=this.filter("fastest").map(function(t){return $('.c-table__cell-result[data-id="'+t.id+'"]')}),e=this.filter("slowest").map(function(t){return $('.c-table__cell-result[data-id="'+t.id+'"]')});t.forEach(function(t){t.addClass("c-table__cell-result--fastest")}),e.forEach(function(t){t.addClass("c-table__cell-result--slowest")})}function u(e){function a(t){g.off("start"),g.off("cycle"),g.off("complete"),i.children(".c-table__cell-result-text").text(g.toString()),$(".c-button--run-test").prop("disabled",!1),$(".c-table__cell-result, .c-table__cell-result > span").on("click",u)}var n=t.router,r=window.test;$(".c-button--run-test").prop("disabled",!0),$(".c-table__cell-result, .c-table__cell-result > span").off("click");var c=e.target,i=$(c),s=i.attr("data-id");s||(i=$(i).parent(".c-table__cell-result[data-id]"),s=$(i).attr("data-id"));var o=parseInt(s,10);n.navigate("/"+r.id+"/single/"+o);var f=_.find(d.currentSuite,{id:o});if(f){var g=f.clone(),p=d.currentSuite.events;_.forEach(p.start,function(t){g.on("start",t)}),_.forEach(p.cycle,function(t){t!==l&&g.on("cycle",t)}),i.children(".c-table__cell-result-text").html('<span class="gauge-loader"></span>'),g.on("complete",a).run({async:!0})}}t.caseDetails=t.caseDetails||{};var d=t.caseDetails;d.onRoot=e,d.byId=a}(window.PerformanceJs),function(t){function e(){l.filteredData=t.data.slice(0),l.render(l.filteredData)}function a(e){var a=t.router;"undefined"!==e&&"null"!==e||a.navigate("/"),e=e.substr(0,36),l.filteredData||(l.filteredData=t.data.slice(0)),l.selectedCase=e;var n=l.filteredData.map(function(t){return t.active=t.id===e,t});l.render(n)}function n(e){var a=t.router;"undefined"!==e&&"null"!==e||a.navigate("/"),l.filteredData=_.filter(t.data,function(t){return t.active=t.id===l.selectedCase,t.name&&t.name.toLowerCase().indexOf(e.toLowerCase())>-1||t.description&&t.description.toLowerCase().indexOf(e.toLowerCase())>-1}),l.render(l.filteredData)}function r(e){var a=t.router;"undefined"!==e&&"null"!==e||a.navigate("/"),l.filteredData=_.filter(t.data,function(t){return t.active=t.id===l.selectedCase,_.includes(t.tags,e)}),l.render(l.filteredData)}function c(t){t.sort(function(t,e){return t.name>e.name?1:t.name<e.name?-1:0});var e=$(".c-test-list")[0];$(".c-card__content",e).off("click"),$(".c-card__content > c-paragraph",e).off("click"),$(".c-tag",e).off("click"),e.innerHTML=t.map(function(t){return o(t)}).join(""),$(".c-tag",e).on("click",s),$(".c-card__content",e).on("click",i),$(".c-card__content > c-paragraph",e).on("click",i)}function i(e){var a=t.router,n=e.target,r=$(n).attr("data-id");r||(n=$(n).parent(".c-card__content[data-id]"),r=$(n).attr("data-id")),e.stopPropagation(),a.navigate("/"+r)}function s(e){var a=t.router,n=e.target,r=$(n).text().trim();e.stopPropagation(),a.navigate("/tag/"+r)}t.caseList=t.caseList||{};var l=t.caseList,o=t.JST.caseList;l.render=c,l.onRoot=e,l.byId=a,l.search=n,l.byTag=r}(window.PerformanceJs),function(t){function e(t){s.val(t)}function a(t){s.val("tag:"+t)}function n(){s.on("keypress",r),$(".c-search__button").on("click",r)}function r(t){"click"===t.type&&(t.preventDefault(),c(s.val()));var e=t.code?t.code:t.keyCode?t.keyCode:t.which;"keypress"!==t.type||"Enter"!==e&&13!==e||(t.preventDefault(),c(s.val()))}function c(e){var a=t.router;0===e.length?a.navigate("/"):0===e.indexOf("tag:")?a.navigate("/tag/"+e.substr(4)):a.navigate("/search/"+s.val())}t.search=t.search||{};var i=t.search,s=$(".c-search__input");n(),i.onSearch=e,i.onTag=a}(window.PerformanceJs),function(t){t.utils=t.utils||{};var e=t.utils;e.toType=function(t){return function(e){return e===t?"global":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}}(this),e.isPromise=function(t){var a=!1,n=e.toType(t);return"object"!==n&&"function"!==n||"function"!==e.toType(t.then)||(a=!0),a}}(window.PerformanceJs);